{"ast":null,"code":"import _slicedToArray from\"/Users/nkundu/Downloads/Harvar_React/w0/CSCI-E39-A2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef,useContext}from'react';import DisplayTime from\"../generic/DisplayTime\";import DisplayRound from\"../generic/DisplayRound\";import Button from\"../generic/Button\";import Numbers from\"../generic/Numbers\";import Controls from\"../generic/Controls\";import{TimerContext}from\"../../AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var XY=function XY(_ref){var controls=_ref.controls,index=_ref.index;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentRound=_useState2[0],setCurrentRound=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalRound=_useState4[0],setTotalRound=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),countdown=_useState6[0],setCountdown=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalcountdown=_useState8[0],setTotalCountdown=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),start=_useState10[0],setStart=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),pause=_useState12[0],setPause=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),stop=_useState14[0],setStop=_useState14[1];var _useState15=useState('Pause'),_useState16=_slicedToArray(_useState15,2),pauseButtonValue=_useState16[0],setPauseButtonValue=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),inputType=_useState18[0],setInputType=_useState18[1];var _useState19=useState({Countdown:'btn btn-info',Round:'btn btn-info'}),_useState20=_slicedToArray(_useState19,2),inputTypeClassName=_useState20[0],setInputTypeClassName=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),countdownValue=_useState22[0],setCountdownValue=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),roundValue=_useState24[0],setRoundValue=_useState24[1];useEffect(function(){if(!stop&&!pause){if(countdown>0){setTimeout(function(){setCountdown(countdown-1);},1);}if(countdown===0&&currentRound<totalRound){setCurrentRound(currentRound+1);setCountdown(totalcountdown);}}else if(stop){setCountdown(0);setCurrentRound(0);setCountdown(0);}},[countdown,currentRound,start,pause,stop]);var _useContext=useContext(TimerContext),appControl=_useContext.appControl,appTimerAction=_useContext.appTimerAction,appTimerIndex=_useContext.appTimerIndex;useEffect(function(){if(appTimerAction==='Reset'){handleXYClick({target:{value:appTimerAction}});}else if(appTimerIndex===index){handleXYClick({target:{value:appTimerAction}});}},[appTimerAction,appTimerIndex]);useEffect(function(){if(countdown===1&&currentRound===totalRound){appControl('Next');}},[countdown,currentRound]);var handleXYClick=function handleXYClick(event){var value=event.target.value;if(value==='Reset'){setInputType('');setCountdownValue(0);setRoundValue(0);setCountdown(0);setTotalCountdown(0);setCurrentRound(0);setTotalRound(0);setStart(false);setStop(true);setPauseButtonValue('Pause');}else if(value==='Start'){setCountdown(0);setTotalCountdown(countdownValue);setCurrentRound(0);setTotalRound(roundValue);setStart(true);setStop(false);setPauseButtonValue('Pause');}else if(value==='Stop'){setStop(true);setPauseButtonValue('Pause');}else if(value==='Pause'){setPause(true);setPauseButtonValue('Resume');}else if(value==='Resume'){setPause(false);setPauseButtonValue('Pause');}else{// Error\n}};var handleNumberClick=function handleNumberClick(event){if(inputType==='Round'){setRoundValue(Number(event.target.value));}else{setCountdownValue(countdownValue*10+Number(event.target.value));}};var handleInputTypeClick=function handleInputTypeClick(event){setInputType(event.target.value);var objInputTypeClassName={Countdown:'btn btn-info',Round:'btn btn-info'};objInputTypeClassName[event.target.value]=\"btn btn-primary\";setInputTypeClassName(objInputTypeClassName);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(DisplayTime,{milliseconds:countdown,uservalue:countdownValue}),/*#__PURE__*/_jsx(DisplayRound,{round:currentRound,total:totalRound,uservalue:roundValue})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(Button,{displayName:\"Countdown\",value:\"Countdown\",className:inputTypeClassName.Countdown,onClick:handleInputTypeClick}),/*#__PURE__*/_jsx(Button,{displayName:\"Round\",value:\"Round\",className:inputTypeClassName.Round,onClick:handleInputTypeClick})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:/*#__PURE__*/_jsx(Numbers,{onClick:handleNumberClick})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:controls===false?null:/*#__PURE__*/_jsx(Controls,{onClick:handleXYClick,valueStart:\"Start\",valuePause:pauseButtonValue,valueStop:\"Stop\",valueReset:\"Reset\"})})]});};export default XY;","map":{"version":3,"names":["useState","useEffect","useRef","useContext","DisplayTime","DisplayRound","Button","Numbers","Controls","TimerContext","XY","controls","index","currentRound","setCurrentRound","totalRound","setTotalRound","countdown","setCountdown","totalcountdown","setTotalCountdown","start","setStart","pause","setPause","stop","setStop","pauseButtonValue","setPauseButtonValue","inputType","setInputType","Countdown","Round","inputTypeClassName","setInputTypeClassName","countdownValue","setCountdownValue","roundValue","setRoundValue","setTimeout","appControl","appTimerAction","appTimerIndex","handleXYClick","target","value","event","handleNumberClick","Number","handleInputTypeClick","objInputTypeClassName","display"],"sources":["/Users/nkundu/Downloads/Harvar_React/w0/CSCI-E39-A2/src/components/timers/XY.js"],"sourcesContent":["import { useState, useEffect, useRef, useContext } from 'react';\n\nimport DisplayTime from \"../generic/DisplayTime\";\nimport DisplayRound from \"../generic/DisplayRound\";\nimport Button from \"../generic/Button\";\nimport Numbers from \"../generic/Numbers\";\nimport Controls from \"../generic/Controls\";\n\nimport { TimerContext } from \"../../AppContext\";\n\n\nconst XY = ({controls, index}) => {\n  const [currentRound, setCurrentRound] = useState(0);\n  const [totalRound, setTotalRound] = useState(0);\n  const [countdown, setCountdown] = useState(0);\n  const [totalcountdown, setTotalCountdown] = useState(0);\n\n  const [start, setStart] = useState(false);\n  const [pause, setPause] = useState(false);\n  const [stop, setStop] = useState(false);\n\n  const [pauseButtonValue, setPauseButtonValue] = useState('Pause');\n\n  const [inputType, setInputType] = useState('');\n  const [inputTypeClassName, setInputTypeClassName] = useState({\n    Countdown: 'btn btn-info',\n    Round: 'btn btn-info'\n  });\n  const [countdownValue, setCountdownValue] = useState(0);\n  const [roundValue, setRoundValue] = useState(0);\n\n  useEffect(() => {\n    if (!stop && !pause) {\n      if (countdown > 0) {\n        setTimeout(() => {\n          setCountdown(countdown - 1);\n        }, 1);\n      }\n      if (countdown === 0 && currentRound < totalRound) {\n        setCurrentRound(currentRound + 1);\n        setCountdown(totalcountdown);\n      }\n    } else if (stop) {\n      setCountdown(0);\n      setCurrentRound(0);\n      setCountdown(0);\n    }\n\t}, [countdown, currentRound, start, pause, stop]);\n\n  const { appControl, appTimerAction, appTimerIndex } = useContext(TimerContext);\n  useEffect(() => {\n    if (appTimerAction === 'Reset') {\n      handleXYClick({\n        target: {\n          value: appTimerAction\n        }\n      });\n    } else if (appTimerIndex === index) {\n      handleXYClick({\n        target: {\n          value: appTimerAction\n        }\n      });\n    }\n\t}, [appTimerAction, appTimerIndex]);\n\n  useEffect(() => {\n    if (countdown === 1 && currentRound === totalRound) {\n      appControl('Next');\n    }\n\t}, [countdown, currentRound]);\n\n  const handleXYClick = (event) => {\n    let value = event.target.value;\n    if (value === 'Reset') {\n      setInputType('');\n      setCountdownValue(0);\n      setRoundValue(0);\n      setCountdown(0);\n      setTotalCountdown(0);\n      setCurrentRound(0);\n      setTotalRound(0);\n      setStart(false);\n      setStop(true);\n      setPauseButtonValue('Pause');\n    } else if (value === 'Start') {\n      setCountdown(0);\n      setTotalCountdown(countdownValue);\n      setCurrentRound(0);\n      setTotalRound(roundValue);\n      setStart(true);\n      setStop(false);\n      setPauseButtonValue('Pause');\n    } else if (value === 'Stop') {\n      setStop(true);\n      setPauseButtonValue('Pause');\n    }  else if (value === 'Pause') {\n      setPause(true);\n      setPauseButtonValue('Resume');\n    }  else if (value === 'Resume') {\n      setPause(false);\n      setPauseButtonValue('Pause');\n    } else {\n      // Error\n    }\n  };\n\n  const handleNumberClick = (event) => {\n    if (inputType === 'Round') {\n      setRoundValue(Number(event.target.value));\n    } else {\n      setCountdownValue((countdownValue * 10) + Number(event.target.value));\n    }\n  };\n\n  const handleInputTypeClick = (event) => {\n    setInputType(event.target.value);let objInputTypeClassName = {\n      Countdown: 'btn btn-info',\n      Round: 'btn btn-info'\n    }\n    objInputTypeClassName[event.target.value] = \"btn btn-primary\";\n    setInputTypeClassName(objInputTypeClassName);\n  };\n\n  return (\n    <div>\n      <div>\n        <DisplayTime milliseconds={countdown} uservalue={countdownValue}></DisplayTime>\n        <DisplayRound round={currentRound} total={totalRound} uservalue={roundValue}></DisplayRound>\n      </div>\n      <div style={{ display: \"flex\"}}>\n        <Button displayName=\"Countdown\" value=\"Countdown\" className={inputTypeClassName.Countdown} onClick={handleInputTypeClick} />\n        <Button displayName=\"Round\" value=\"Round\" className={inputTypeClassName.Round} onClick={handleInputTypeClick} />\n      </div>\n      <div style={{ display: \"flex\"}}>\n        <Numbers onClick={handleNumberClick} />\n      </div>\n      <div style={{ display: \"flex\"}}>\n        { controls === false ? null : <Controls onClick={handleXYClick} valueStart=\"Start\" valuePause={pauseButtonValue} valueStop=\"Stop\" valueReset=\"Reset\"/> }\n      </div>\n    </div>\n  );\n};\n\nexport default XY;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}