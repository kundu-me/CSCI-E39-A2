{"ast":null,"code":"import _slicedToArray from\"/Users/nkundu/Downloads/Harvar_React/w0/CSCI-E39-A2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef,useContext}from'react';import DisplayTime from\"../generic/DisplayTime\";import Button from\"../generic/Button\";import Numbers from\"../generic/Numbers\";import Controls from\"../generic/Controls\";import{TimerContext}from\"../../AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Countdown=function Countdown(_ref){var controls=_ref.controls,index=_ref.index;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),countdown=_useState2[0],setCountdown=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),start=_useState4[0],setStart=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),pause=_useState6[0],setPause=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),stop=_useState8[0],setStop=_useState8[1];var _useState9=useState('Pause'),_useState10=_slicedToArray(_useState9,2),pauseButtonValue=_useState10[0],setPauseButtonValue=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),countdownValue=_useState12[0],setCountdownValue=_useState12[1];useEffect(function(){if(!stop&&!pause&&countdown>0){setTimeout(function(){setCountdown(countdown-1);},1);}else if(stop){setCountdown(0);}},[countdown,start,pause,stop]);var _useContext=useContext(TimerContext),appControl=_useContext.appControl,appTimerAction=_useContext.appTimerAction,appTimerIndex=_useContext.appTimerIndex;useEffect(function(){if(appTimerAction==='Reset'){handleCountdownClick({target:{value:appTimerAction}});}else if(appTimerIndex===index){handleCountdownClick({target:{value:appTimerAction}});}},[appTimerAction,appTimerIndex]);useEffect(function(){if(countdown===1){appControl('Next');}},[countdown]);var handleCountdownClick=function handleCountdownClick(event){var value=event.target.value;if(value==='Reset'){setCountdownValue(0);setCountdown(0);setStart(false);setStop(true);setPauseButtonValue('Pause');}else if(value==='Start'){setCountdown(countdownValue);setStart(true);setStop(false);setPauseButtonValue('Pause');}else if(value==='Stop'){setStop(true);setPauseButtonValue('Pause');}else if(value==='Pause'){setPause(true);setPauseButtonValue('Resume');}else if(value==='Resume'){setPause(false);setPauseButtonValue('Pause');}else{// Error\n}};var handleNumberClick=function handleNumberClick(event){setCountdownValue(countdownValue*10+Number(event.target.value));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DisplayTime,{milliseconds:countdown,uservalue:countdownValue})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:/*#__PURE__*/_jsx(Numbers,{onClick:handleNumberClick})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:controls===false?null:/*#__PURE__*/_jsx(Controls,{onClick:handleCountdownClick,valueStart:\"Start\",valuePause:pauseButtonValue,valueStop:\"Stop\",valueReset:\"Reset\"})})]});};export default Countdown;","map":{"version":3,"names":["useState","useEffect","useRef","useContext","DisplayTime","Button","Numbers","Controls","TimerContext","Countdown","controls","index","countdown","setCountdown","start","setStart","pause","setPause","stop","setStop","pauseButtonValue","setPauseButtonValue","countdownValue","setCountdownValue","setTimeout","appControl","appTimerAction","appTimerIndex","handleCountdownClick","target","value","event","handleNumberClick","Number","display"],"sources":["/Users/nkundu/Downloads/Harvar_React/w0/CSCI-E39-A2/src/components/timers/Countdown.js"],"sourcesContent":["import { useState, useEffect, useRef, useContext } from 'react';\n\nimport DisplayTime from \"../generic/DisplayTime\";\nimport Button from \"../generic/Button\";\nimport Numbers from \"../generic/Numbers\";\nimport Controls from \"../generic/Controls\";\n\nimport { TimerContext } from \"../../AppContext\";\n\nconst Countdown = ({controls, index}) => {\n  const [countdown, setCountdown] = useState(0);\n\n  const [start, setStart] = useState(false);\n  const [pause, setPause] = useState(false);\n  const [stop, setStop] = useState(false);\n\n  const [pauseButtonValue, setPauseButtonValue] = useState('Pause');\n\n  const [countdownValue, setCountdownValue] = useState(0);\n\n  useEffect(() => {\n    if (!stop && !pause && countdown > 0) {\n      setTimeout(() => {\n        setCountdown(countdown - 1);\n      }, 1);\n    } else if (stop) {\n      setCountdown(0);\n    }\n\t}, [countdown, start, pause, stop]);\n\n  const { appControl, appTimerAction, appTimerIndex } = useContext(TimerContext);\n  useEffect(() => {\n    if (appTimerAction === 'Reset') {\n      handleCountdownClick({\n        target: {\n          value: appTimerAction\n        }\n      });\n    } else if (appTimerIndex === index) {\n      handleCountdownClick({\n        target: {\n          value: appTimerAction\n        }\n      });\n    }\n\t}, [appTimerAction, appTimerIndex]);\n\n  useEffect(() => {\n    if (countdown === 1) {\n      appControl('Next');\n    }\n\t}, [countdown]);\n\n  const handleCountdownClick = (event) => {\n    let value = event.target.value;\n    if (value === 'Reset') {\n      setCountdownValue(0);\n      setCountdown(0);\n      setStart(false);\n      setStop(true);\n      setPauseButtonValue('Pause');\n    } else if (value === 'Start') {\n      setCountdown(countdownValue);\n      setStart(true);\n      setStop(false);\n      setPauseButtonValue('Pause');\n    } else if (value === 'Stop') {\n      setStop(true);\n      setPauseButtonValue('Pause');\n    }  else if (value === 'Pause') {\n      setPause(true);\n      setPauseButtonValue('Resume');\n    }  else if (value === 'Resume') {\n      setPause(false);\n      setPauseButtonValue('Pause');\n    } else {\n      // Error\n    }\n  };\n\n  const handleNumberClick = (event) => {\n    setCountdownValue((countdownValue * 10) + Number(event.target.value));\n  };\n\n  return (\n    <div>\n      <div>\n        <DisplayTime milliseconds={countdown} uservalue={countdownValue}></DisplayTime>\n      </div>\n      <div style={{ display: \"flex\"}}>\n        <Numbers onClick={handleNumberClick} />\n      </div>\n      <div style={{ display: \"flex\"}}>\n        {controls === false ? null : <Controls onClick={handleCountdownClick} valueStart=\"Start\" valuePause={pauseButtonValue} valueStop=\"Stop\" valueReset=\"Reset\"/>}\n      </div>\n    </div>\n  );\n};\n\nexport default Countdown;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}