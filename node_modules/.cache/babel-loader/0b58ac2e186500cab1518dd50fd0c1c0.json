{"ast":null,"code":"import _slicedToArray from\"/Users/nkundu/Downloads/Harvar_React/w0/CSCI-E39-A2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef,useContext}from'react';import DisplayTime from\"../generic/DisplayTime\";import Button from\"../generic/Button\";import Numbers from\"../generic/Numbers\";import Controls from\"../generic/Controls\";import{TimerContext}from\"../../AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Stopwatch=function Stopwatch(_ref){var controls=_ref.controls,index=_ref.index;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),stopwatch=_useState2[0],setStopwatch=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),countup=_useState4[0],setCountup=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),start=_useState6[0],setStart=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),pause=_useState8[0],setPause=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),stop=_useState10[0],setStop=_useState10[1];var _useState11=useState('Pause'),_useState12=_slicedToArray(_useState11,2),pauseButtonValue=_useState12[0],setPauseButtonValue=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),stopwatchValue=_useState14[0],setStopwatchValue=_useState14[1];useEffect(function(){if(!stop&&!pause&&countup<stopwatch){setTimeout(function(){setCountup(countup+1);},1);}else if(stop){setCountup(0);}},[countup,stopwatch,start,pause,stop]);var _useContext=useContext(TimerContext),appControl=_useContext.appControl,appTimerAction=_useContext.appTimerAction,appTimerIndex=_useContext.appTimerIndex;useEffect(function(){if(appTimerAction==='Reset'){handleStopwatchClick({target:{value:appTimerAction}});}else if(appTimerIndex===index){handleStopwatchClick({target:{value:appTimerAction}});}},[appTimerAction,appTimerIndex]);useEffect(function(){if(countup===stopwatch-1){appControl('Next');}},[countup]);var handleStopwatchClick=function handleStopwatchClick(event){var value=event.target.value;if(value==='Reset'){setStopwatchValue(0);setCountup(0);setStopwatch(0);setStart(false);setStop(true);setPauseButtonValue('Pause');}else if(value==='Start'){setCountup(0);setStopwatch(stopwatchValue);setStart(true);setStop(false);setPauseButtonValue('Pause');}else if(value==='Stop'){setStop(true);setPauseButtonValue('Pause');}else if(value==='Pause'){setPause(true);setPauseButtonValue('Resume');}else if(value==='Resume'){setPause(false);setPauseButtonValue('Pause');}else{// Error\n}};var handleNumberClick=function handleNumberClick(event){setStopwatchValue(stopwatchValue*10+Number(event.target.value));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(DisplayTime,{milliseconds:countup,uservalue:stopwatchValue})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:/*#__PURE__*/_jsx(Numbers,{onClick:handleNumberClick})}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\"},children:controls===false?null:/*#__PURE__*/_jsx(Controls,{onClick:handleStopwatchClick,valueStart:\"Start\",valuePause:pauseButtonValue,valueStop:\"Stop\",valueReset:\"Reset\"})})]});};export default Stopwatch;","map":{"version":3,"names":["useState","useEffect","useRef","useContext","DisplayTime","Button","Numbers","Controls","TimerContext","Stopwatch","controls","index","stopwatch","setStopwatch","countup","setCountup","start","setStart","pause","setPause","stop","setStop","pauseButtonValue","setPauseButtonValue","stopwatchValue","setStopwatchValue","setTimeout","appControl","appTimerAction","appTimerIndex","handleStopwatchClick","target","value","event","handleNumberClick","Number","display"],"sources":["/Users/nkundu/Downloads/Harvar_React/w0/CSCI-E39-A2/src/components/timers/Stopwatch.js"],"sourcesContent":["import { useState, useEffect, useRef, useContext } from 'react';\n\nimport DisplayTime from \"../generic/DisplayTime\";\nimport Button from \"../generic/Button\";\nimport Numbers from \"../generic/Numbers\";\nimport Controls from \"../generic/Controls\";\n\nimport { TimerContext } from \"../../AppContext\";\n\nconst Stopwatch = ({controls, index}) => {\n  const [stopwatch, setStopwatch] = useState(0);\n  const [countup, setCountup] = useState(0);\n\n  const [start, setStart] = useState(false);\n  const [pause, setPause] = useState(false);\n  const [stop, setStop] = useState(false);\n\n  const [pauseButtonValue, setPauseButtonValue] = useState('Pause');\n\n  const [stopwatchValue, setStopwatchValue] = useState(0);\n\n  useEffect(() => {\n    if (!stop && !pause && countup <  stopwatch) {\n      setTimeout(() => {\n        setCountup(countup + 1);\n      }, 1);\n    } else if (stop) {\n      setCountup(0);\n    }\n\t}, [countup, stopwatch, start, pause, stop]);\n\n\n  const { appControl, appTimerAction, appTimerIndex } = useContext(TimerContext);\n  useEffect(() => {\n    if (appTimerAction === 'Reset') {\n      handleStopwatchClick({\n        target: {\n          value: appTimerAction\n        }\n      });\n    } else if (appTimerIndex === index) {\n      handleStopwatchClick({\n        target: {\n          value: appTimerAction\n        }\n      });\n    }\n\t}, [appTimerAction, appTimerIndex]);\n\n  useEffect(() => {\n    if (countup === stopwatch - 1) {\n      appControl('Next');\n    }\n\t}, [countup]);\n\n  const handleStopwatchClick = (event) => {\n    let value = event.target.value;\n    if (value === 'Reset') {\n      setStopwatchValue(0);\n      setCountup(0);\n      setStopwatch(0);\n      setStart(false);\n      setStop(true);\n      setPauseButtonValue('Pause');\n    } else if (value === 'Start') {\n      setCountup(0);\n      setStopwatch(stopwatchValue);\n      setStart(true);\n      setStop(false);\n      setPauseButtonValue('Pause');\n    } else if (value === 'Stop') {\n      setStop(true);\n      setPauseButtonValue('Pause');\n    }  else if (value === 'Pause') {\n      setPause(true);\n      setPauseButtonValue('Resume');\n    }  else if (value === 'Resume') {\n      setPause(false);\n      setPauseButtonValue('Pause');\n    } else {\n      // Error\n    }\n  };\n\n  const handleNumberClick = (event) => {\n    setStopwatchValue((stopwatchValue * 10) + Number(event.target.value));\n  };\n\n  return (\n    <div>\n      <div>\n        <DisplayTime milliseconds={countup} uservalue={stopwatchValue}></DisplayTime>\n      </div>\n      <div style={{ display: \"flex\"}}>\n        <Numbers onClick={handleNumberClick} />\n      </div>\n      <div style={{ display: \"flex\"}}>\n        {controls === false ? null : <Controls onClick={handleStopwatchClick} valueStart=\"Start\" valuePause={pauseButtonValue} valueStop=\"Stop\" valueReset=\"Reset\"/>}\n      </div>\n    </div>\n  );\n};\n\nexport default Stopwatch;\n"],"mappings":"yIAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,MAA9B,CAAsCC,UAAtC,KAAwD,OAAxD,CAEA,MAAOC,YAAP,KAAwB,wBAAxB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,QAAP,KAAoB,oBAApB,CACA,MAAOC,SAAP,KAAqB,qBAArB,CAEA,OAASC,YAAT,KAA6B,kBAA7B,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAuB,IAArBC,SAAqB,MAArBA,QAAqB,CAAXC,KAAW,MAAXA,KAAW,CACvC,cAAkCX,QAAQ,CAAC,CAAD,CAA1C,wCAAOY,SAAP,eAAkBC,YAAlB,eACA,eAA8Bb,QAAQ,CAAC,CAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eAEA,eAA0Bf,QAAQ,CAAC,KAAD,CAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eACA,eAA0BjB,QAAQ,CAAC,KAAD,CAAlC,yCAAOkB,KAAP,eAAcC,QAAd,eACA,eAAwBnB,QAAQ,CAAC,KAAD,CAAhC,0CAAOoB,IAAP,gBAAaC,OAAb,gBAEA,gBAAgDrB,QAAQ,CAAC,OAAD,CAAxD,2CAAOsB,gBAAP,gBAAyBC,mBAAzB,gBAEA,gBAA4CvB,QAAQ,CAAC,CAAD,CAApD,2CAAOwB,cAAP,gBAAuBC,iBAAvB,gBAEAxB,SAAS,CAAC,UAAM,CACd,GAAI,CAACmB,IAAD,EAAS,CAACF,KAAV,EAAmBJ,OAAO,CAAIF,SAAlC,CAA6C,CAC3Cc,UAAU,CAAC,UAAM,CACfX,UAAU,CAACD,OAAO,CAAG,CAAX,CAAV,CACD,CAFS,CAEP,CAFO,CAAV,CAGD,CAJD,IAIO,IAAIM,IAAJ,CAAU,CACfL,UAAU,CAAC,CAAD,CAAV,CACD,CACH,CARS,CAQP,CAACD,OAAD,CAAUF,SAAV,CAAqBI,KAArB,CAA4BE,KAA5B,CAAmCE,IAAnC,CARO,CAAT,CAWA,gBAAsDjB,UAAU,CAACK,YAAD,CAAhE,CAAQmB,UAAR,aAAQA,UAAR,CAAoBC,cAApB,aAAoBA,cAApB,CAAoCC,aAApC,aAAoCA,aAApC,CACA5B,SAAS,CAAC,UAAM,CACd,GAAI2B,cAAc,GAAK,OAAvB,CAAgC,CAC9BE,oBAAoB,CAAC,CACnBC,MAAM,CAAE,CACNC,KAAK,CAAEJ,cADD,CADW,CAAD,CAApB,CAKD,CAND,IAMO,IAAIC,aAAa,GAAKlB,KAAtB,CAA6B,CAClCmB,oBAAoB,CAAC,CACnBC,MAAM,CAAE,CACNC,KAAK,CAAEJ,cADD,CADW,CAAD,CAApB,CAKD,CACH,CAdS,CAcP,CAACA,cAAD,CAAiBC,aAAjB,CAdO,CAAT,CAgBA5B,SAAS,CAAC,UAAM,CACd,GAAIa,OAAO,GAAKF,SAAS,CAAG,CAA5B,CAA+B,CAC7Be,UAAU,CAAC,MAAD,CAAV,CACD,CACH,CAJS,CAIP,CAACb,OAAD,CAJO,CAAT,CAMA,GAAMgB,qBAAoB,CAAG,QAAvBA,qBAAuB,CAACG,KAAD,CAAW,CACtC,GAAID,MAAK,CAAGC,KAAK,CAACF,MAAN,CAAaC,KAAzB,CACA,GAAIA,KAAK,GAAK,OAAd,CAAuB,CACrBP,iBAAiB,CAAC,CAAD,CAAjB,CACAV,UAAU,CAAC,CAAD,CAAV,CACAF,YAAY,CAAC,CAAD,CAAZ,CACAI,QAAQ,CAAC,KAAD,CAAR,CACAI,OAAO,CAAC,IAAD,CAAP,CACAE,mBAAmB,CAAC,OAAD,CAAnB,CACD,CAPD,IAOO,IAAIS,KAAK,GAAK,OAAd,CAAuB,CAC5BjB,UAAU,CAAC,CAAD,CAAV,CACAF,YAAY,CAACW,cAAD,CAAZ,CACAP,QAAQ,CAAC,IAAD,CAAR,CACAI,OAAO,CAAC,KAAD,CAAP,CACAE,mBAAmB,CAAC,OAAD,CAAnB,CACD,CANM,IAMA,IAAIS,KAAK,GAAK,MAAd,CAAsB,CAC3BX,OAAO,CAAC,IAAD,CAAP,CACAE,mBAAmB,CAAC,OAAD,CAAnB,CACD,CAHM,IAGC,IAAIS,KAAK,GAAK,OAAd,CAAuB,CAC7Bb,QAAQ,CAAC,IAAD,CAAR,CACAI,mBAAmB,CAAC,QAAD,CAAnB,CACD,CAHO,IAGA,IAAIS,KAAK,GAAK,QAAd,CAAwB,CAC9Bb,QAAQ,CAAC,KAAD,CAAR,CACAI,mBAAmB,CAAC,OAAD,CAAnB,CACD,CAHO,IAGD,CACL;AACD,CACF,CA3BD,CA6BA,GAAMW,kBAAiB,CAAG,QAApBA,kBAAoB,CAACD,KAAD,CAAW,CACnCR,iBAAiB,CAAED,cAAc,CAAG,EAAlB,CAAwBW,MAAM,CAACF,KAAK,CAACF,MAAN,CAAaC,KAAd,CAA/B,CAAjB,CACD,CAFD,CAIA,mBACE,oCACE,kCACE,KAAC,WAAD,EAAa,YAAY,CAAElB,OAA3B,CAAoC,SAAS,CAAEU,cAA/C,EADF,EADF,cAIE,YAAK,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAX,CAAZ,uBACE,KAAC,OAAD,EAAS,OAAO,CAAEF,iBAAlB,EADF,EAJF,cAOE,YAAK,KAAK,CAAE,CAAEE,OAAO,CAAE,MAAX,CAAZ,UACG1B,QAAQ,GAAK,KAAb,CAAqB,IAArB,cAA4B,KAAC,QAAD,EAAU,OAAO,CAAEoB,oBAAnB,CAAyC,UAAU,CAAC,OAApD,CAA4D,UAAU,CAAER,gBAAxE,CAA0F,SAAS,CAAC,MAApG,CAA2G,UAAU,CAAC,OAAtH,EAD/B,EAPF,GADF,CAaD,CA5FD,CA8FA,cAAeb,UAAf"},"metadata":{},"sourceType":"module"}